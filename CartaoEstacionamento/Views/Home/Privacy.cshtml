@model CartaoEstacionamento.ViewModels.PessoaViewModel
@* Não faça render de Scripts aqui. Use _Layout ou @section Scripts *@
@* Scripts.Render("~/bundles/jquery") *@

@{
    ViewBag.Title = "Cadastro de Usuário";
}

<h2>Cadastro de Usuário</h2>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">

        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })

        <div class="form-group">
            @Html.LabelFor(model => model.Telefone, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Telefone, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Telefone, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Endereco, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Endereco, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Endereco, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Cidade, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Cidade, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Cidade, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Estado, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Estado, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Estado, "", new { @class = "text-danger" })
            </div>
        </div>

        <!-- Pessoa Física (Praticante): Nome -->
        <div class="Nome">
            @Html.LabelFor(model => model.Nome, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Nome, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Nome, "", new { @class = "text-danger" })
            </div>
        </div>

        <!-- Pessoa Física (Praticante): CPF -->
        <div class="CPF">
            @Html.LabelFor(model => model.CPF, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.CPF, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.CPF, "", new { @class = "text-danger" })
            </div>
        </div>

        <!-- Pessoa Física (Praticante): DataNascimento -->
        <div class="DataNascimento">
            @Html.LabelFor(model => model.DataNascimento, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.DataNascimento, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.DataNascimento, "", new { @class = "text-danger" })
            </div>
        </div>


        <!-- Pessoa Jurídica (Estabelecimento): NomeFantasia -->
        <div class="NomeFantasia">
            @Html.LabelFor(model => model.NomeFantasia, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.NomeFantasia, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.NomeFantasia, "", new { @class = "text-danger" })
            </div>
        </div>

        <!-- Pessoa Jurídica (Estabelecimento): RazaoSocial -->
        <div class="RazaoSocial">
            @Html.LabelFor(model => model.RazaoSocial, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.RazaoSocial, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.RazaoSocial, "", new { @class = "text-danger" })
            </div>
        </div>

        <!-- Pessoa Jurídica (Estabelecimento): CNPJ -->
        <div class="CNPJ">
            @Html.LabelFor(model => model.CNPJ, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.CNPJ, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.CNPJ, "", new { @class = "text-danger" })
            </div>
        </div>

        <!-- Pessoa Jurídica (Estabelecimento): TelComercial -->
        <div class="TelComercial">
            @Html.LabelFor(model => model.TelComercial, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.TelComercial, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.TelComercial, "", new { @class = "text-danger" })
            </div>
        </div>

        <!-- Pessoa Jurídica (Estabelecimento): DataAbertura -->
        <div class="DataAbertura" id="DataAberturaId">
            @Html.LabelFor(model => model.DataAbertura, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.DataAbertura, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.DataAbertura, "", new { @class = "text-danger" })
            </div>
        </div>

        <!-- Radio button para selecionar pessoa física ou jurídica -->
        <div>
            <label>
                @Html.RadioButtonFor(model => model.TipoPessoa, TipoPessoa.Fisica, new { onclick = "habilitaCampo('pessoaFisicaId')" }) Física
            </label>
            <label>
                @Html.RadioButtonFor(model => model.TipoPessoa, TipoPessoa.Juridica, new { onclick = "habilitaCampo('pessoaJuridicaId')" }) Jurídica
            </label>
        </div>

        <script type="text/javascript">
            $(document).ready(function () {
                // Oculta os atributos da pessoa física
                $(".Nome").hide();
                $(".CPF").hide();
                $(".DataNascimento").hide();
                // Oculta os atributos da pessoa jurídica
                $(".NomeFantasia").hide();
                $(".RazaoSocial").hide();
                $(".CNPJ").hide();
                $(".TelComercial").hide();
                $(".DataAbertura").hide();


                $("input[name=tipoPessoa]").on("click", function () {
                    // Se pessoa física estiver selecionado
                    if (pessoaFisicaId.checked) {
                        // Exibe os atributos da pessoa física
                        $(".Nome").show();
                        $(".CPF").show();
                        $(".DataNascimento").show();
                        // Oculta os atributos da pessoa jurídica
                        $(".NomeFantasia").hide();
                        $(".RazaoSocial").hide();
                        $(".CNPJ").hide();
                        $(".TelComercial").hide();
                        $(".DataAbertura").hide();
                    }

                    // Se pessoa jurídica estiver selecionado
                    else if (pessoaJuridicaId.checked) {
                        // Exibe os atributos da pessoa jurídica
                        $(".NomeFantasia").show();
                        $(".RazaoSocial").show();
                        $(".CNPJ").show();
                        $(".TelComercial").show();
                        $(".DataAbertura").show();
                        // Oculta os atributos da pessoa física
                        $(".Nome").hide();
                        $(".CPF").hide();
                        $(".DataNascimento").hide();
                        $(".Profissao").hide();
                        $(".EstadoCivil").hide();

                    }

                });
            });
        </script>

        <!-- Botão Salvar -->
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Salvar" class="btn btn-default" />
            </div>
        </div>
    </div>
}

<!-- Botão voltar para lista -->
<div>
    @*@Html.ActionLink("Back to List", "Index")*@
    <a href='@Url.Action("Index", "Pessoas")'>
        <img src='@Url.Content("~/Content/img/voltar.png")' class="botaoicone" title="Voltar" /> Lista de Usuários
    </a>
</div>
